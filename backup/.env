# ------------------------------------------------------------------------
# KONFIGURASI DASAR SCRIPT
# ------------------------------------------------------------------------

# RTSP_SUBTYPE: 0 = main stream, 1 = sub stream, dst.
# Biasanya, 0 = main (resolusi tinggi).
RTSP_SUBTYPE=0

# TEST_CHANNEL = "off" (default).
#   - "off" => script memproses channel 1..CHANNEL_COUNT
#   - Contoh: "1,2" => hanya channel 1 dan 2
TEST_CHANNEL=off

# CHANNEL_COUNT = jumlah channel (jika TEST_CHANNEL=off).
CHANNEL_COUNT=16

# CHUNK_DURATION = durasi segmen perekaman (detik) jika BACKUP_MODE=full
CHUNK_DURATION=300

# ENABLE_JSON_LOOK = "true"/"false"
ENABLE_JSON_LOOK=false


# ------------------------------------------------------------------------
# TWEAK KONFIGURASI PENGHEMATAN CPU (pipeline motion/object)
# ------------------------------------------------------------------------

# FRAME_SKIP = proses hanya 1 dari N frame (default 5).
#   - Makin besar => lebih hemat CPU, gerakan singkat bisa terlewat
FRAME_SKIP=1

# DOWNSCALE_RATIO = mengecilkan resolusi sebelum motion/object detect.
#   - 0.4 => 40% ukuran asli => CPU lebih ringan, detail berkurang
DOWNSCALE_RATIO=0.4

# MOTION_SLEEP = jeda (detik) antar loop analisis motion/object
#   - Makin besar => FPS analisis turun => CPU lebih hemat
MOTION_SLEEP=0.2

# FREEZE_BLACK_INTERVAL = interval (detik) skip freeze/black check
#   - 0 => cek di setiap loop
#   - 1800 => cek hanya 1x tiap 30 menit
FREEZE_BLACK_INTERVAL=1800


# ------------------------------------------------------------------------
# MODE BACKUP DAN KONFIGURASI UMUM
# ------------------------------------------------------------------------

# BACKUP_MODE = {full|motion|motion_obj|motion_obj_dual}
#   - motion_obj_dual => sub-stream (analisis) + main-stream (rekam)
BACKUP_MODE=motion_obj_dual

# MAX_RECORD = durasi max (detik) per segmen rekaman mode motion/motion_obj
MAX_RECORD=600

# MOTION_TIMEOUT = jeda (detik) tanpa gerakan sebelum berhenti merekam
# (SEMULA 10) => Naikkan ke 20 agar rekaman bertahan lebih lama saat ada orang
MOTION_TIMEOUT=20

# POST_MOTION_DELAY = jeda tambahan setelah gerakan hilang
# (SEMULA 10) => Naikkan ke 20 agar total idle = 40 detik
POST_MOTION_DELAY=20

# ENABLE_FREEZE_CHECK = "true"/"false"
ENABLE_FREEZE_CHECK=true

# ENABLE_BLACKOUT = "true"/"false"
ENABLE_BLACKOUT=true

# LOOP_ENABLE = "true"/"false"
LOOP_ENABLE=true

# CHECK_INTERVAL = jeda (detik) sebelum loop pipeline berikutnya
CHECK_INTERVAL=300


# ------------------------------------------------------------------------
# PARAMETER FREEZE DETECT (JIKA ENABLE_FREEZE_CHECK=true)
# ------------------------------------------------------------------------
FREEZE_SENSITIVITY=6.0
FREEZE_RECHECK_TIMES=5
FREEZE_RECHECK_DELAY=3.0


# ------------------------------------------------------------------------
# PARAMETER OBJECT DETECTION (motion_obj / motion_obj_dual)
# ------------------------------------------------------------------------
# (SEMULA CONF_PERSON=0.7 => Naikkan ke 0.8 agar lebih ketat)
CONF_PERSON=0.5
CONF_CAR=0.3
CONF_MOTOR=0.3


# ------------------------------------------------------------------------
# PARAMETER MOTION DETECTION (OPSIONAL)
# ------------------------------------------------------------------------
# Parameter Utama
#MOTION_HISTORY=500
#MOTION_VARTH=16
#MOTION_SHADOWS=true
MOTION_AREA_THRESHOLD=8000

# Parameter Malam
NIGHT_MODE_ENABLE=true
NIGHT_START_HOUR=20
NIGHT_END_HOUR=7
NIGHT_AREA_THRESHOLD=5000
NIGHT_BLUR_ENABLE=true
NIGHT_BLUR_KERNEL=5
#
# Jika masih banyak false alarm gerakan kecil (hewan, ranting pohon),
# perbesar threshold, mis. 5000
# MOTION_AREA_THRESHOLD=5000